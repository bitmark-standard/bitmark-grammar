5/5/2021

test/match-matrix1.bit
= Not removing text when it contain Umulout letters.

/tests/botinterview1.bit
= Error => ignore

Run　diff!!!


---------------------------------------------------------
1) Are nested bits legal? (probably a missing ] char in an example)

2) Supported character set? Emoji?

3) Is it okay to have '[' or ']' in the text? e.g. [-a] Nicht] 
e.g.
[.cloze:bitmark--] 
[%05_Ablauf und Termine_023 (Freitext) ]
[!Ordnen Sie die folgenden Aufgaben den einzelnen Projektphasen zu.] 
A] Stakeholder-Analyse 
B] Erstellen eines Projektstrukturplans 
C] Projektführung 
D] Machbarkeitsanalyse 
E] Projektabschlussbericht 
F] Erstellen eines Aufwandsplans 
G] Auflösung der Projektorganisation 
H] Controlling 


4) Random text happening outside of bits are acceptable?

5) Are the spaces after ] acceptable?

6) Are the spaces on empty lines acceptable?

7) Are empty lines in a bit acceptable? e.g. sequence, essay etc

8) Are empty lines inside an instruction acceptable?

9) Are empty lines inside an instruction acceptable?

10) Can the choices in multiple choice be inline?
e.g.
[.multiple-choice:bitmark--]
[%46]
[!________ Fluss fliesst durch Zürich? ]
[-a) Welche] [-b) Welches] [-c) Welchen] [+d) Welcher]

11) Can the choices in multiple choice have spaces after +/-?
e.g.
[.multiple-choice]
[%24]
[!Ich träume immer ... meinem Vater.]
[+ a) von][- b) vom][- c) an]

12) Can the resource URL line come at the end of a bit?
e.g.
[.multiple-choice&image] 
[%9] 
[!Es ist Samstagnachmittag. Du gehst zur Post, um Briefmarken zu kaufen. Kannst du die Briefmarken jetzt bekommen? Wähl richtig aus. 
Kannst du die Briefmarken jetzt kaufen?] 
[-Ja] 
[+Nein]
[&image::https://docs.bitbook.education/bit-books/dw/einstufungstest-a1/web-resources/images/et-a1-9.png]

e.g.
[.assignment&audio] 
[!Wie war deine Aussprache?] 
Gut 
Nicht so gut 
[&audio::https://docs.bitbook.education/bit-books/dw/a2/familie/familiengeschichten/web-resources/audio/a2_e2_l1_s8_a2_loesungsaudio_dwdownload.mp3] 


13) Are the choices without bit declaration acceptable?
e.g.
Termin: [-April][+Juni][-Oktober] 
Dauer: [-8 Tage][+14 Tage][-1 Monat] 
Kursstufe: [+Anfängerstufe][-Mittelstufe][-Abschlussstufe] 
Kurs: [-Einzelunterricht][+Gruppe mit 4–6 Personen][-Gruppe mit 10–12 Personen] 
Unterkunft: [-Hotel][+Privat] 

14) Can an item use ANY character?
[%6/12.2]

Is this legal? An @example in choice.
  [+a) ein][@example] [-b) eine] [-c) einen]

15) Having no separator for "true-false" or "multiple-choice" good?
e.g.
[.true-false&video] 
[%9/12] 
[!Worüber sprechen Selma und Nico? 
Sieh dir das Video noch einmal an und lies die Frage. Mehrere Antworten sind richtig.] 
[&video::https://docs.bitbook.education/bit-books/dw/a2/familie/familiengeschichten/web-resources/video/a2_e2_l1_f9_sd_avc.mp4] 
Was ist richtig? 
  
[-Nico und Selma sprechen über Freunde.] 
[+Nico und Selma sprechen über die Familie.] 
[+Nico hat Probleme mit seinen Eltern.] 
[+Selma möchte bei ihrer Familie sein.]

e.g.
[.multiple-choice:bitmark--] 
[%6.] 
[!Wo steht der Fernseher? Er steht ________________ dem Tisch.] 
[-a) ein] 
[-b) zwischen] 
[-c) durch] 
[+d) auf] 

16) This kind of bits are obviously wrong?
e.g.
[.multiple-choice:bitmark:--] 
[%48.]  
[!________ Absender schickt__________ Empfänger ___________ Brief.] 
a) der/den/dem  
b) der/dem/dem  
c) den/den/der  
d) der/dem/den 


==============================Answers==============================

Correct, no more &&&

I'll let Brita and Philippe know

1) Are nested bits legal? (probably a missing ] char in an example)
No. Bits cannot be nested.
To make bitmark "stable", every [.xxx] (at the start of a line) opens a new bit (and closes the one before), no matter of the errors (for example not closed ]) in the bit before

2) Supported character set? Emoji?

UTF-8, plus/including Emoji's

https://docs.bitbook.education/bitmark_text/#utf-8-non-breaking-spaces
Please be aware, that bitmark Text (bitmark++) is not final, but will be by the end of the week

3) Is it okay to have '[' or ']' in the text?

Yes, these are considered normal characters
[ always comes with at least one, directly following reserved character to become a "command" like [. or [!
Is this a problem? I was not sure, when designing the language.
Please also have a look at my idea of breakscaping:

https://docs.bitbook.education/bitmark_overview/#breakscaping-escaping
I am willing to change that, if it makes no sense
The idea is, to have only one (!) special character. The ^
To use it as a character, you have to repeat it: One is completely removed
after parsing from the output. So [^. would "break" the [.  meaning, the parser would not recognize [.
Because ^ is removed in the output, [^. becomes [. as a normal string
To still be able to use ^, two ^^are replaced by one in the final output
What do you think?

++++++++++++
Let me check if that is an easy way to escape bit. I think an example usage would be to
document bitmark bits
++++++++++++

4) Random text happening outside of bits are acceptable?

Yes, but this is only possible at the very start of a text
All bits start with [. and end with the next start of the next bit. So, there can be no random text between to bits
Or did you find a situation?

++++++++++++
For example the following "Stufe 2" was added to mean a section title-ish purpose.

e.g.
Stufe 2 
 
[.multiple-choice:bitmark--] 
[%9.] 
[!Das Buch gehört ________________!] 
a) mich  
b) meinen Bruder  
c) meine Schwester 
d) mir 
++++++++++++


5) Are the spaces after ] acceptable?
Yes
Also see https://docs.bitbook.education/bitmark_overview/#bitmark-chains


6) Are the spaces on empty lines acceptable?

Yes


7) Are empty lines in a bit acceptable? e.g. sequence, essay etc
Yes
However, they are trimmed (in the output) when at the beginning or end of a text block
All white spaces are trimmed at start and end of a text block
White lines within a text block are untouched and conserved
All new lines are preserved (this is very different from html)


8 ) Are empty lines inside an instruction acceptable? 
Yes.
There are trimmed at start and end
[!**Important Instruction**
This is.
]

This is a valid instruction
Last new line will be trimmed however.
Empty lines are almost everywhere acceptable. If not, it should be
noted in the documentation. For example not in a cloze gap [_no line breaks here].
>

10) Can the choices in multiple choice be inline?

No. But a warning from the parser would be nice if we find something like that


11) Can the choices in multiple choice have spaces after +/-?

Yes. Every tag can contain white spaces at start and end but they are trimmed for the output value
For example [.  cloze] will be okay.


12) Can the resource URL line come at the end of a bit?

Yes, the resource URL can be at any position inside a bit
However, the position has no meaning. Everything that is inside a bit that cannot be
assigned to tag, is assigned to the body property.
So, the body is kind of what was left over. Resource URLs are remove (including the line break at the end
White spaces at the start and end of the resulting body are also trimmed.


13) Are the choices without bit declaration acceptable?

e.g.
Termin: [-April][+Juni][-Oktober]
Dauer: [-8 Tage][+14 Tage][-1 Monat]
Kursstufe: [+Anfängerstufe][-Mittelstufe][-Abschlussstufe]
Kurs: [-Einzelunterricht][+Gruppe mit 4–6 Personen][-Gruppe mit 10–12 Personen]
Unterkunft: [-Hotel][+Privat]

I don't understand this question fully.
The answer is probably: No


14) Can an item use ANY character?

Yes, any UTF-8 but no line breaks
White spaces are trimmed (at start and end)


15) Having no separator for "true-false" or "multiple-choice" good?

It used to be like that but I changed it to make it consistent and to be able to use [%a)] also on a per line basis.


16) This kind of bits are obviously wrong?

e.g.
[.multiple-choice:bitmark:--]
[%48.]
[!________ Absender schickt__________ Empfänger ___________ Brief.]
a) der/den/dem
b) der/dem/dem
c) den/den/der
d) der/dem/den

Yes. Choices are missing
Many things are wrong.
Please be aware, that the item [%] is possible at different places
One per bit for the bit itself.
One per "line" if a quiz supports/is using "lines" (separated blocks by ===.
But item can also be chained.
This is a [_cloze][%a)] with [_two][%b)] gaps.
It would we "acceptable" to write this as This is a *a)* [_cloze] with *b)* [_two] gaps.
But that's not what we want. Bit still valid.

***************************************

OK (1)
OK .multiple-choice-1
OK .multiple-choice
OK .multiple-response-1
OK .multiple-response
OK .true-false
OK .true-false-1 
allow new lines in their [+ ] [- ] tags.

OK NL-not-allowed .multiple-choice-text
OK NL-not-allowed .cloze-and-multiple-choice-text
does not (because the choices are "inline" for these to types.


OK (2) for [. [@ [! [•
Want space allowed after [. [! etc so [!  instrunction ] is legit.

[•gut] vs. [•gut ] ( white space at the end before the closing ] )
Every tag can include white space at the start and end, but the parser trims it before returning the value of the tag. This is also tru for all data that is not explicitly inside a tag like the body (body is probably the only one for now in the standard, except for the "sub-bodies" inside ===, ==,--- parts.
So, [!   This is an instruction    ] becomes instruction: "This is an instruction"
Of course, there can be no white space between [ and !
Allowed white space is space and tab, nothing else.

[.cloze-solution-grouped:bitmark--]
[@id:4684]
This is correctly recognized as a parser error. Cloze gaps cannot contain new lines. They are considered "inline".

Ok (3)
[@reference: Can contain new lines. It's a block tag.

Ok (4)
OK [!] empty instruction should be allowed
OK [@example:] also allowed.

(5)
Atdef colons need checked
@Yoshi [@grammar:Rektion der Verben: Das Verb regiert im Satz] you removed the :
This is allowed in bitmark. After the [@xxx: everything is allowed until ]
: are quite common chars
[@example:] same here. Valid, but not nice. It's the same as [@example]
isExample: true, example: ""

(6)
.match and other bits that support === separators. In these "sub-bodies" (everything inside two ===), new lines are allowed.

Ok (7)
[$...] support new lines inside

Ok (8)
NEED TO ACCEPT COLON IN (Arbeitszeit: 12 Minuten) > (Arbeitszeit 12 Minuten)
In the body, (Arbeitszeit: 12 Minuten) is just a normal text and very common in german
: should not be a special char at all. It's not used for anything except inside the @tags

Ok (9)
NEED TO ACCEPT COLON IN [@reference: Bibliothek des Bundesgerichtshofs. Nutzungsmodalitäten für exter- ne Personen. Zugriff: 4.1.2019, In http://www.bundesgerichtshof. de/DE/Bibliothek/Bibliothek_node.html]
Just the one after "In", which is there in most other @reference

ETC

@progress is now atdef
@reference is now atdef
Bullet item can have spaces on both ends
Atdef can have spaces after @
All bit def (in bitmarkParser) can have spaces after DOT.

****Error
Check cloze10-error.bit cloze11-error.bit later!

----------------------June 22, 2021 -------------------------

?? (1) [_-] does not "produce" a gap that accepts a minus as a solution.
=> Okay but this only works on cloze, and allowed chars are +-*/ (binary ops)


[.cloze][@id:92478]
[%C12a]
[!Ergänzen Sie die Endungen, falls erforderlich (falls nicht erforderlich schreiben Sie bitte "-").
Bestimmter/unbestimmter Artikel und Adjektiv/Partizip im Nominativ]
Das ist ...
◇ ein[_e][@example] richtig[_e][@example] Entscheidung.
1. ein[_-] unpassend[_er] Moment.
2. mein[_-] früher[_er] Mathematiklehrer.
3. d[_er] nett[_e] Mann von gestern.
4. ein[_e] traurig[_e] Geschichte.
5. d[_as] jüngst[_e] Kind meiner Schwester.
6. unser[_-] neu[_r] Nachbar.
7. ein[_-] total chaotisch[_er] Mensch.
8. ein[_-] sehr nett[_er] Kollege.
9. ein[_-] klein[_es] Zimmer.
1. d[_as] verschwunden[_e] Bild.


Ok (2). Interview does not recognize several lines per question

Having resource(s) (image, audio, etc) inside === and === is an error.


[.interview:bitmark--&image][@id:92393]
[%A1 – Partnerarbeit]
[! Sich kennenlernen
Befragen Sie Ihre Nachbarin/Ihren Nachbarn zu den folgenden Stichpunkten, machen Sie sich Notizen und stellen Sie dann Ihre Nachbarin/Ihren Nachbarn den anderen Kursteilnehmern vor.]
Meine Nachbarin/Mein Nachbar heißt ...
Er/Sie wohnt in/kommt aus ...
===
**Diese Angaben muss man meistens machen:**
Name:[@shortAnswer]
===
Wohnort:[@shortAnswer]
===
Geburtsort:[@shortAnswer]
===
Staatsangehörigkeit:[@shortAnswer]
===
Studium oder Berufsausbildung:[@shortAnswer]
===
jetzige Tätigkeit:[@shortAnswer]
===
Arbeitgeber:[@shortAnswer]
===
Familienstand:[@shortAnswer]
===
**Das kann man fragen oder sagen (wenn man will):**
Kinder:[@shortAnswer]
===
Hobbys:[@shortAnswer]
===
**Und das möchte man manchmal wissen:**
Lieblingstier:[@shortAnswer]
===
Lieblingsfarbe:[@shortAnswer]
===
Lieblingsessen:[@shortAnswer]
===
Lieblingsbuch oder Lieblingsfilm:[@shortAnswer]
===
**Und was interessiert Sie noch?**
===
[&image:https://docs.bitbook.education/bit-books/schubert/schubert_erkundungen_b2/web-resources/images/l1030918.png]
[&image:https://docs.bitbook.education/bit-books/schubert/schubert_erkundungen_b2/web-resources/images/l1030935.png]
This is not recognized:
===
**Diese Angaben muss man meistens machen:**
Name:[@shortAnswer]
===



Ok! (3). In .cloze, the item [%] of a gap is recognized but not removed from the body.

[.cloze][@id:92438]
[%A27 – Wortschatz]
[!Liebe und Leid
Lösen Sie das Worträtsel. Suchen Sie die passenden Nomen. Das Lösungswort ergibt sich, wenn Sie die markierten Kästchen senkrecht lesen.]
[%1] Das hat man, wenn der geliebte Partner/die geliebte Partnerin nicht da ist.
[_S][@example] [_e][@example] [_h][@example][%1] [_n][@example] [_s][@example] [_u] [_c] [_h] [_t]
[%2] Das Brautpaar muss sie während der Feier anschneiden, dann kann man sie essen.
[_T] [_o][%2] [_r] [_t] [_e]
[%3] Das machen viele Singles, manche online.
[_P][@example] [_a][@example] [_r] [_t] [_n] [_e] [_r] [_s] [_u] [_c] [_h] [_e][%3]
[%4] Man trägt ihn normalerweise, wenn man verheiratet ist.
[_E] [_h][%4] [_e] [_r] [_i] [_n] [_g][@example]
[%5] Man empfindet ihn, wenn die Ehe nicht gut geht und man sich trennt.
[_T] [_r] [_e] [_n] [_n] [_u] [_n] [_g] [_s] [_s][@example] [_c][@example] [_h][@example] [_m] [_e] [_r] [_z][%5]
[%6] Die Braut trägt es während der Hochzeit, es ist oft weiß.
[_B][@example] [_r][@example] [_a] [_u] [_t] [_k] [_l] [_e][%6] [_i] [_d]
[%7] Das hat man zum Beispiel, wenn man in jemanden verliebt ist und die Liebe nicht erwidert wird.
[_L][@example] [_i][%7] [_e] [_b] [_e] [_s] [_k] [_u] [_m] [_m] [_e] [_r]
[%8] Der, der die Braut heiratet.
[_B] [_r] [_ä][@example] [_u][@example] [_t][%8] [_i] [_g] [_a] [_m]
Lösung: [_H][!1][@example] [_o][!2] [_c][!3] [_h][!4] [_z][!5] [_e][!6] [_i][!7] [_t][!8]


OK (4) .cloze-and-multiple-choice-text eats part of the body and does not recognize tags, if content contains a - (I guess)
=> [--string] was causing this problem. Modified the parser to accept [-- and [++.

[.cloze-and-multiple-choice-text][@id:92500]
[!Bilden Sie zusammengesetzte Nomen (Komposita). Geben Sie auch die Artikel an.]
[%A11]
[+der][-die][-das] Vermieter- [--küche][--wohnung][--haus][--betrag][--miete][+-verein][--belag][--frist][--vertrag][--ordnung]
[-der][+die][-das] Monats- [--küche][--wohnung][--haus][--betrag][+-miete][--verein][--belag][--frist][--vertrag][--ordnung]
[+der][-die][-das] Fußboden- [--küche][--wohnung][--haus][--betrag][--miete][--verein][+-belag][--frist][--vertrag][--ordnung]
[-der][+die][-das] Miet-[--küche][+-wohnung][--haus][--betrag][--miete][--verein][--belag][--frist][--vertrag][--ordnung]
[+der][-die][-das] Miet-[--küche][--wohnung][--haus][--betrag][--miete][--verein][--belag][--frist][+-vertrag][--ordnung]
[-der][+die][-das] Einbau- [+-küche][--wohnung][--haus][--betrag][--miete][--verein][--belag][--frist][--vertrag][--ordnung]
[+der][-die][-das] Ablöse- [--küche][--wohnung][--haus][+-betrag][--miete][--verein][--belag][--frist][--vertrag][--ordnung]
[-der][-die][+das] Treppen- [--küche][--wohnung][+-haus][--betrag][--miete][--verein][--belag][--frist][--vertrag][--ordnung]
[-der][+die][-das] Haus- [--küche][--wohnung][--haus][--betrag][--miete][--verein][--belag][--frist][--vertrag][+-ordnung]
[-der][+die][-das] Kündigungs- [--küche][--wohnung][--haus][--betrag][--miete][--verein][--belag][+-frist][--vertrag][--ordnung]


OK (5). In .multiple-choice, only the first instruction is recognized

[.multiple-choice&image]
[@id:92505]
[%A15]
[&image:https://docs.bitbook.education/bit-books/schubert/schubert_erkundungen_b2/web-resources/images/dresden002_kap2st_dte.jpg]
[&image:https://docs.bitbook.education/bit-books/schubert/schubert_erkundungen_b2/web-resources/images/img_6060st_dte40.jpg]
[!Städtequiz: Informieren Sie sich.
Welche Antwort ist richtig? Kreuzen Sie an.]
===
[!In welcher Stadt wurde der Dichter Johann Wolfgang von Goethe geboren?]
[-Hamburg]
[+Frankfurt a. M.]
[-Mainz]
===
[!Welche Stadt hat die meisten Einwohner?]
[+Berlin]
[-Frankfurt a. M.]
[-Köln]
===
[!In welcher Stadt fanden 1972 die Olympischen Spiele statt?]
[+München]
[-Berlin]
[-Leipzig]
===
[!Welche Stadt ist für ihre Bratwürste berühmt?]
[-Hamburg]
[-Rostock]
[+Nürnberg]
===
[!In welcher Stadt befindet sich die älteste Universität Deutschlands]
[-Berlin]
[-München]
[+Heidelberg]
===
[!In welcher Stadt wohnte und arbeitete der Komponist Johann Sebastian Bach?]
[-Dresden]
[+Leipzig]
[-Hannover]
===
[!In welcher Stadt findet jährlich die größte Industriemesse der Welt statt?]
[-Leipzig]
[-Frankfurt a. M.]
[+Hannover]
===
[!In welcher Stadt feiert man den Karneval besonders ausgelassen?]
[-Münster]
[+Köln]
[-Stuttgart]
===


Only first group has an instruction.


(6) Same problem (like 5) for .multiple-response and probably other with === separators
